<!DOCTYPE HTML>
<html lang="en">
<head>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <![endif]-->
    <meta charset="utf-8">
    <title>blueimp Gallery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/blueimp-gallery.css">
    <link rel="stylesheet" href="css/blueimp-gallery-indicator.css">
    <link rel="stylesheet" href="css/demo/demo.css">
</head>
<body>
    <h2>blueimp Lightbox Image Gallery</h2>

    <!-- The container for the list of example images -->
    <div id="links" class="links"></div>

    <!-- The Gallery as lightbox dialog, should be a child element of the document body -->
    <div id="blueimp-gallery" class="blueimp-gallery">
        <div class="slides"></div>
        <h3 class="title"></h3>
        <a class="prev">‹</a>
        <a class="next">›</a>
        <a class="close">×</a>
        <a class="play-pause"></a>
        <ol class="indicator"></ol>
    </div>

    <script src="js/blueimp-helper.js"></script>
    <script src="js/blueimp-gallery.js"></script>
    <script src="js/blueimp-gallery-fullscreen.js"></script>
    <script src="js/blueimp-gallery-indicator.js"></script>
    <script src="js/vendor/jquery.js"></script>
    <script src="js/jquery.blueimp-gallery.js"></script>
    <!--<script src="js/demo/demo.js"></script>-->
    <script>
        $(function() {
            'use strict'


            $.getJSON('http://localhost:65067/api/photoviewer/0', null, function(data) {

                var test1 = data;

                $.each(data, function (index, value) {
                    var carouselLinks = []
                    var linksContainer = $('#links');

                    var test2 = index;
                    var test3 = value;

                    var originalBase64ImageStr = new Buffer(value[index].imageData);


                    carouselLinks.push({
                        href: baseUrl + '_c.jpg',
                        title: photo.title
                    });

                });
                
                // Initialize the Gallery as image carousel:
                blueimp.Gallery(carouselLinks, {
                    container: '#blueimp-image-carousel',
                    carousel: true
                });
                
            });

            //// Load demo images from flickr:
            //$.ajax({
            //    url: 'https://api.flickr.com/services/rest/',
            //    data: {
            //        format: 'json',
            //        method: 'flickr.interestingness.getList',
            //        api_key: '7617adae70159d09ba78cfec73c13be3' // jshint ignore:line
            //    },
            //    dataType: 'jsonp',
            //    jsonp: 'jsoncallback'
            //}).done(function(result) {
            //    var carouselLinks = []
            //    var linksContainer = $('#links')
            //    var baseUrl
            //    // Add the demo images as links with thumbnails to the page:
            //    $.each(result.photos.photo,
            //        function(index, photo) {
            //            baseUrl = 'https://farm' +
            //                photo.farm +
            //                '.static.flickr.com/' +
            //                photo.server +
            //                '/' +
            //                photo.id +
            //                '_' +
            //                photo.secret
            //            $('<a/>')
            //                .append($('<img>').prop('src', baseUrl + '_s.jpg'))
            //                .prop('href', baseUrl + '_b.jpg')
            //                .prop('title', photo.title)
            //                .attr('data-gallery', '')
            //                .appendTo(linksContainer)
            //            carouselLinks.push({
            //                href: baseUrl + '_c.jpg',
            //                title: photo.title
            //            })
            //        })
            //    // Initialize the Gallery as image carousel:
            //    blueimp.Gallery(carouselLinks,
            //        {
            //            container: '#blueimp-image-carousel',
            //            carousel: true
            //        })
            //});
        });
    </script>
</body>
</html>
